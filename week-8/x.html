<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 8.4</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link rel="stylesheet" href="../site.css">

    <style type="text/css">
        #employee tbody tr:hover {
            cursor: pointer;
            background-color: #ffff99;
        }
    </style>
</head>
<body>

<div id="emps"></div>

<script type="text/javascript">
    function Employee(id, firstName, lastName, title){  //creating Employee object with id, fN, lN, and title
        this.id = id;
        this.firstName = firstName;
        this.lastName = lastName;
        this.title = title;
    }
    var employeeArray = [  //array of five employee objects
        new Employee(1, "Thomas", "Edison", "Software Engineer"), 
        new Employee(2, "Benjamin", "Franklin", "Programmer"),
        new Employee(3, "Nikola", "Tesla", "Project Manager"),
        new Employee(4, "Charles", "Babbage", "Product Manager"),
        new Employee(5, "Alexander", "Bell", "Business Analyst")
    ]
    
    //getEmployee(id) function
    function getEmployee(id) {  //object that collects id, iterates over the employee array
        var result = "";
        employeeArray.forEach( function(a, b, c){
            if(c[b].id == id){
                result = c[b];
            }
        });
        return (result.id + " " + result.firstName + " " +  //outputs matching employee record using an alert box
            result.lastName + " " + result.title);
    }
    // output string variable
    var output = "<h1>Employee Listing</h1>";  //HTML table
        output += "<table id='employee'>";
        output += "<thead><tr><th>Id</th><th>First Name</th><th>Last Name</th><th>Title</th></tr></thead>";
        output += "<tbody>";
    //for loop
    for(var i = 0; i < employeeArray.length; i++){  //iterates over the employee array
        output += "<tr><td>" + employeeArray[i].id + "</td>" +  //output of table cells 
        "<td>" + employeeArray[i].firstName + "</td>" +
        "<td>" + employeeArray[i].lastName + "</td>" +
        "<td>" + employeeArray[i].title + "</td></tr>";
    }
    output += "</tbody></table>"
    // innerHTML call
    document.getElementById("emps").innerHTML = output;  //output string of the emps div using innerHTML function
    // jQuery onClick event
    $(function () {
        $("table tr").click(function () {  //onClick event for table cells
            var id = $(this).find('td:first').html();
            alert( getEmployee(id) ); //finds selected employee and outputs results
        })
    });
</script>

<h4>Heather Peterson Assignment 8.4 - 2/2/18 </h4>

</body>
</html>